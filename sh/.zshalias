# Default
export EDITOR="vim"

# Dev Shortcuts
alias pp="python"
alias gorun="go run $(find . -name "*.go" -and -not -name "*_test.go" -maxdepth 1)"
alias gget="go get -u -v"
alias nv="nvim"

# Portals
alias go_work="cd ~/workspace"

# Commands
alias reload_zsh="exec $SHELL -l"
alias rm_ds="find . -name '.DS_Store' -type f -delete -print"  # remove .DS_Store recursively
alias flushdns="sudo killall -HUP mDNSResponder"  # for Sierra
alias clean_launchpad="defaults write com.apple.dock ResetLaunchPad -bool true; killall Dock"  # for Sierra
alias disable_iphone_backup="defaults write com.apple.iTunes DeviceBackupsDisabled -bool false"
alias ipconfig="curl ifconfig.co"
# alias portcheck="sudo lsof -iTCP -sTCP:LISTEN -n -P"
alias portcheck='printf "\033[4;37m%-18s %-8s %-22s %s\033[0m\n" "COMMAND" "PID" "LISTEN" "CWD"; sudo lsof -nP -iTCP -sTCP:LISTEN -F pcn 2>/dev/null | awk '"'"'BEGIN{pid=cmd=name=""}/^p/{pid=substr($0,2)}/^c/{cmd=substr($0,2)}/^n/{name=substr($0,2);if(pid&&cmd&&name)print pid"\t"cmd"\t"name}'"'"' | sort -u | while IFS=$'"'"'\t'"'"' read -r pid cmd name; do dir=$(sudo lsof -n -p "$pid" -a -d cwd -F n 2>/dev/null | sed -n '"'"'s/^n//p'"'"' | tail -1); [ -z "$dir" ] && dir="-"; printf "\033[1;32m%-18s\033[0m \033[1;36m%-8s\033[0m \033[1;33m%-22s\033[0m %s\n" "$cmd" "$pid" "$name" "$dir"; done'
alias el="exa -alg"
alias cp_path='pwd | pbcopy'
alias preview="fzf --preview 'bat --color \"always\" {}'"
alias cp_git_shortsha="git log -1 --pretty=format:%h | pbcopy"

## Docker
alias docker_rm_all="docker rm $(docker ps -aq)"
alias docker_rm_exits="docker ps -a | grep Exit | cut -d ' ' -f 1 | xargs sudo docker rm"
alias docker_prune="docker system prune -af"
alias dc_up_dev="docker compose -f docker-compose.dev.yml up"

# Applications
alias sublime="/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl"
alias chrome="/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome"
alias chrome-canary="/Applications/Google\ Chrome\ Canary.app/Contents/MacOS/Google\ Chrome\ Canary"
alias chromium="/Applications/Chromium.app/Contents/MacOS/Chromium"
alias firefox="open -a /Applications/Firefox\ Developer\ Edition.app"
alias tailscale="/Applications/Tailscale.app/Contents/MacOS/tailscale"

# Overrides
alias cat="ccat"
alias ls='eza'

